<!DOCTYPE html>
<html>

<head>
    <title>cargo_auto_lib</title>
    <meta http-equiv="Content-type" content="text/html;charset=utf-8" />
    <meta name="Description" content="Automation tasks coded in Rust language for the workflow of Rust projects">
    <meta name="author" content="https://github.com/bestia-dev">
    <meta name=viewport content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../css/bestia01.css">
    <script>
        /* Toggle between adding and removing the "responsive" class to navbar when the user clicks on the hamburger */
        function toggle_responsive_navbar() {
            var x = document.getElementById("navbar");
            if (x.className.includes(" responsive")) {
                x.className = x.className.replace(" responsive", "");
            } else {
                x.className += " responsive";
            }
        }
    </script>
</head>

<body>
    <div class="fixed_header">
        <div id="navbar">
            <a id="navbar_brand" href="https://bestia.dev">
                <img src="bestia_icon.png" alt="Bestia development" title="bestia.dev" />
                <span id="navbar_title"> Bestia dev</span>
            </a>
            <a id="navbar_hamburger" href="javascript:void(0);" onclick="toggle_responsive_navbar()">‚ò∞ </a>
            <div id="navbar_topics">
                <a href="/index.html#home" onclick="toggle_responsive_navbar()">Home </a>
                <a href="/index.html#tutorials" onclick="toggle_responsive_navbar()">Tutorials</a>
                <a href="/index.html#games" onclick="toggle_responsive_navbar()">Games</a>
                <a href="/index.html#productivity" onclick="toggle_responsive_navbar()">Productivity</a>
                <a href="/index.html#contact" onclick="toggle_responsive_navbar()">Contact</a>
            </div>
        </div>
    </div>
    <div>&nbsp;</div> 
    <div class="small">This is a copy of the Github readme.<br/>
    Find the original on <a href="https://github.com/automation-tasks-rs/cargo_auto_lib">https://github.com/automation-tasks-rs/cargo_auto_lib</a></div>

<article class="markdown-body entry-content container-lg" itemprop="text">
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto">cargo_auto_lib</h1><a id="user-content-cargo_auto_lib" class="anchor" aria-label="Permalink: cargo_auto_lib" href="#cargo_auto_lib"></a></div>
<p dir="auto"><strong>Automation tasks coded in Rust language for the workflow of Rust projects</strong><br>
<em><strong>version: 3.0.12 date: 2025-03-17 author: <a href="https://bestia.dev" rel="nofollow">Bestia.dev</a> repository: <a href="https://github.com/automation-tasks-rs/cargo_auto_lib">GitHub</a></strong></em></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/e8100395d149fab3d02c3ee4672d2cc5d833bf4ab9044e6c57f47c54baf4d1ba/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6d61696e7461696e65642d677265656e"><img src="https://img.shields.io/badge/maintained-green" alt="maintained" style="max-width: 100%;"></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/3d28e085cfc1f662a567e40863593879fb9896391cde406b9ff5775277affe41/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f72656164795f666f725f7573652d677265656e"><img src="https://img.shields.io/badge/ready_for_use-green" alt="ready-for-use" style="max-width: 100%;"></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/e5c1ffa95b7619630cfa7868deb0cc8ebc0832d889ff947612462c06873a8eed/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f727573746c616e672d6f72616e6765"><img src="https://img.shields.io/badge/rustlang-orange" alt="rustlang" style="max-width: 100%;"></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/21c4245ce9de39de8d2264eef603b39b35dc850dc5bb3206d3a51948a423bcc2/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6175746f6d6174696f6e2d6f72616e6765"><img src="https://img.shields.io/badge/automation-orange" alt="automation" style="max-width: 100%;"></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/b18413323da3e8c227c7318d587734b31442f3045e8af0b2613171dbb9df6090/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f776f726b666c6f772d6f72616e6765"><img src="https://img.shields.io/badge/workflow-orange" alt="workflow" style="max-width: 100%;"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/automation-tasks-rs/cargo-auto/main/images/logo/logo_cargo_auto.svg"><img src="https://raw.githubusercontent.com/automation-tasks-rs/cargo-auto/main/images/logo/logo_cargo_auto.svg" alt="logo" style="max-width: 100%;"></a>
cargo_auto_lib is part of the <a href="https://github.com/automation-tasks-rs">automation_tasks_rs</a> project</p>
<p dir="auto"><a href="https://crates.io/crates/cargo_auto_lib" rel="nofollow"><img src="https://img.shields.io/crates/v/cargo_auto_lib.svg" alt="crates.io" style="max-width: 100%;"></a>
<a href="https://docs.rs/cargo_auto_lib/" rel="nofollow"><img src="https://docs.rs/cargo_auto_lib/badge.svg" alt="Documentation" style="max-width: 100%;"></a>
<a href="https://web.crev.dev/rust-reviews/crate/cargo_auto_lib/" rel="nofollow"><img src="https://web.crev.dev/rust-reviews/badge/crev_count/cargo_auto_lib.svg" alt="crev reviews" style="max-width: 100%;"></a>
<a href="https://lib.rs/crates/cargo_auto_lib/" rel="nofollow"><img src="https://img.shields.io/badge/Lib.rs-rust-orange.svg" alt="Lib.rs" style="max-width: 100%;"></a><br>
<a href="https://github.com/automation-tasks-rs/cargo_auto_lib/blob/master/LICENSE"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="License" style="max-width: 100%;"></a>
<a href="https://github.com/automation-tasks-rs/cargo_auto_lib/"><img src="https://github.com/automation-tasks-rs/cargo_auto_lib/workflows/rust_fmt_auto_build_test/badge.svg" alt="Rust" style="max-width: 100%;"></a>
<a href="https://automation-tasks-rs.github.io/cargo_auto_lib/cargo_auto_lib/index.html" rel="nofollow"><img src="https://img.shields.io/badge/newest_docs-blue.svg" alt="Newest docs" style="max-width: 100%;"></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/cbb86fe1ade78839e1dca8aa625e1dbe5b589f7ad4dfdfe260f5c46e6a2c5efc/68747470733a2f2f6265737469612e6465762f776562706167655f6869745f636f756e7465722f6765745f7376675f696d6167652f3237363336303632362e737667"><img src="https://bestia.dev/webpage_hit_counter/get_svg_image/276360626.svg" alt="cargo_auto_lib" style="max-width: 100%;"></a></p>
<p dir="auto"><a href="https://github.com/automation-tasks-rs/cargo_auto_lib/"><img src="https://img.shields.io/badge/Lines_in_Rust-1799-green.svg" alt="Lines in Rust code" style="max-width: 100%;"></a>
<a href="https://github.com/automation-tasks-rs/cargo_auto_lib/"><img src="https://img.shields.io/badge/Lines_in_Doc_comments-993-blue.svg" alt="Lines in Doc comments" style="max-width: 100%;"></a>
<a href="https://github.com/automation-tasks-rs/cargo_auto_lib/"><img src="https://img.shields.io/badge/Lines_in_comments-293-purple.svg" alt="Lines in Comments" style="max-width: 100%;"></a>
<a href="https://github.com/automation-tasks-rs/cargo_auto_lib/"><img src="https://img.shields.io/badge/Lines_in_examples-28-yellow.svg" alt="Lines in examples" style="max-width: 100%;"></a>
<a href="https://github.com/automation-tasks-rs/cargo_auto_lib/"><img src="https://img.shields.io/badge/Lines_in_tests-79-orange.svg" alt="Lines in tests" style="max-width: 100%;"></a></p>
<p dir="auto">Hashtags: #maintained #ready-for-use #rustlang #automation #workflow<br>
My projects on GitHub are more like a tutorial than a finished product: <a href="https://github.com/bestia-dev/tutorials_rust_wasm">bestia-dev tutorials</a>.<br>
I recommend using the <a href="https://github.com/CRUSTDE-ContainerizedRustDevEnv/crustde_cnt_img_pod">CRUSTDE - Containerized Rust Development Environment</a> to write Rust projects on Linux, isolated from your system.</p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Try it</h2><a id="user-content-try-it" class="anchor" aria-label="Permalink: Try it" href="#try-it"></a></div>
<p dir="auto">First, install the tool for task automation in Rust projects:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="cargo install cargo-auto
# Generate a new Rust CLI project:
cargo auto new_cli hello_world
# Open the `hello_world` project in VSCode:
code hello_world
# Open the generated directory `automation_tasks_rs` as an independent rust project in VSCode.
code hello_world/automation_tasks_rs"><pre>cargo install cargo-auto
<span class="pl-c"><span class="pl-c">#</span> Generate a new Rust CLI project:</span>
cargo auto new_cli hello_world
<span class="pl-c"><span class="pl-c">#</span> Open the `hello_world` project in VSCode:</span>
code hello_world
<span class="pl-c"><span class="pl-c">#</span> Open the generated directory `automation_tasks_rs` as an independent rust project in VSCode.</span>
code hello_world/automation_tasks_rs</pre></div>
<p dir="auto">Now we can analyze the automation code. There is already this dependency inside <code>Cargo.toml</code> for our library:</p>
<div class="highlight highlight-source-toml notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="cargo_auto_lib=&quot;2.0.2&quot;"><pre><span class="pl-smi">cargo_auto_lib</span>=<span class="pl-s"><span class="pl-pds">"</span>2.0.2<span class="pl-pds">"</span></span></pre></div>
<p dir="auto">Review the code in <code>automation_tasks_rs/main.rs</code>. The <code>cl::</code> namespace is the alias for <code>cargo_auto_lib</code>.<br>
Example:</p>
<div class="highlight highlight-source-rust notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="/// cargo build --release
fn task_release() {
    let cargo_toml = CargoToml::read();
    cl::auto_version_increment_semver_or_date();
    cl::auto_cargo_toml_to_md();
    cl::auto_lines_of_code(&quot;&quot;);

    cl::run_shell_command(&quot;cargo fmt&quot;);
    cl::run_shell_command(&quot;cargo build --release&quot;);
    println!(
        r#&quot;
  {YELLOW}After `cargo auto release`, run the compiled binary, examples and/or tests{RESET}
{GREEN}./target/release/{package_name} arg_1{RESET}
  {YELLOW}if ok then{RESET}
{GREEN}cargo auto doc{RESET}
&quot;#,
package_name = cargo_toml.package_name(),
    );
}"><pre><span class="pl-c">/// cargo build --release</span>
<span class="pl-c"></span><span class="pl-k">fn</span> <span class="pl-en">task_release</span><span class="pl-kos">(</span><span class="pl-kos">)</span> <span class="pl-kos">{</span>
    <span class="pl-k">let</span> cargo_toml = <span class="pl-smi">CargoToml</span><span class="pl-kos">::</span><span class="pl-en">read</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    cl<span class="pl-kos">::</span><span class="pl-en">auto_version_increment_semver_or_date</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    cl<span class="pl-kos">::</span><span class="pl-en">auto_cargo_toml_to_md</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    cl<span class="pl-kos">::</span><span class="pl-en">auto_lines_of_code</span><span class="pl-kos">(</span><span class="pl-s">""</span><span class="pl-kos">)</span><span class="pl-kos">;</span>

    cl<span class="pl-kos">::</span><span class="pl-en">run_shell_command</span><span class="pl-kos">(</span><span class="pl-s">"cargo fmt"</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    cl<span class="pl-kos">::</span><span class="pl-en">run_shell_command</span><span class="pl-kos">(</span><span class="pl-s">"cargo build --release"</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-en">println</span><span class="pl-en">!</span><span class="pl-kos">(</span>
        <span class="pl-s">r#"</span>
<span class="pl-s">  {YELLOW}After `cargo auto release`, run the compiled binary, examples and/or tests{RESET}</span>
<span class="pl-s">{GREEN}./target/release/{package_name} arg_1{RESET}</span>
<span class="pl-s">  {YELLOW}if ok then{RESET}</span>
<span class="pl-s">{GREEN}cargo auto doc{RESET}</span>
<span class="pl-s">"#</span><span class="pl-kos">,</span>
package_name = cargo_toml<span class="pl-kos">.</span>package_name<span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">,</span>
    <span class="pl-kos">)</span><span class="pl-kos">;</span>
<span class="pl-kos">}</span></pre></div>
<p dir="auto">You can see this function will increment the version in <code>Cargo.toml</code>.<br>
Then it will copy some data from <code>Cargo.toml</code> to README.md (title, description, version, author,...).<br>
It will count the lines of code and create badges in README.md.<br>
Then comes the traditional Rust part: cargo fmt and cargo build --release.<br>
Finally, it will show on the screen the instructions on how to continue developing.</p>
<p dir="auto">Run (in your main rust project):</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="cargo auto release"><pre>cargo auto release</pre></div>
<p dir="auto">Now open the README.md and you will see the data that this automation task copied from other places. Therefore you change this data only in one place, the automation task copies them wherever needed.</p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Panic!() and unwrap()</h2><a id="user-content-panic-and-unwrap" class="anchor" aria-label="Permalink: Panic!() and unwrap()" href="#panic-and-unwrap"></a></div>
<p dir="auto">I want the tasks to exit immediately on any error. So I use unwrap() and panic!() a lot.<br>
On purpose. And because I wrote this before I learned Rust error handling.</p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Development details</h2><a id="user-content-development-details" class="anchor" aria-label="Permalink: Development details" href="#development-details"></a></div>
<p dir="auto">Read the development details in a separate md file:<br>
<a href="https://github.com/automation-tasks-rs/cargo_auto_lib/blob/main/DEVELOPMENT.md">DEVELOPMENT.md</a></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Releases changelog</h2><a id="user-content-releases-changelog" class="anchor" aria-label="Permalink: Releases changelog" href="#releases-changelog"></a></div>
<p dir="auto">Read the release changelog in a separate md file:<br>
<a href="https://github.com/automation-tasks-rs/cargo_auto_lib/blob/main/RELEASES.md">RELEASES.md</a></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">TODO</h2><a id="user-content-todo" class="anchor" aria-label="Permalink: TODO" href="#todo"></a></div>
<ul dir="auto">
<li>remove the existing support for workspaces. Workspaces are a mess</li>
<li>change it so that every member must have its own automation</li>
<li>the workspace automation then calls the member's automation</li>
<li>It is better to have a non-workspace group of projects that are</li>
<li>developed together using single workflow automation</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Open-source and free as a beer</h2><a id="user-content-open-source-and-free-as-a-beer" class="anchor" aria-label="Permalink: Open-source and free as a beer" href="#open-source-and-free-as-a-beer"></a></div>
<p dir="auto">My open-source projects are free as a beer (MIT license).<br>
I just love programming.<br>
But I need also to drink. If you find my projects and tutorials helpful, please buy me a beer by donating to my <a href="https://paypal.me/LucianoBestia" rel="nofollow">PayPal</a>.<br>
You know the price of a beer in your local bar ;-)<br>
So I can drink a free beer for your health :-)<br>
<a href="https://translate.google.com/?hl=en&amp;sl=sl&amp;tl=en&amp;text=Na%20zdravje&amp;op=translate" rel="nofollow">Na zdravje!</a> <a href="https://dictionary.cambridge.org/dictionary/italian-english/alla-salute" rel="nofollow">Alla salute!</a> <a href="https://dictionary.cambridge.org/dictionary/german-english/prost" rel="nofollow">Prost!</a> <a href="https://matadornetwork.com/nights/how-to-say-cheers-in-50-languages/" rel="nofollow">Nazdravlje!</a> üçª</p>
<p dir="auto"><a href="https://bestia.dev" rel="nofollow">//bestia.dev</a><br>
<a href="https://github.com/bestia-dev">//github.com/bestia-dev</a><br>
<a href="https://bestiadev.substack.com" rel="nofollow">//bestiadev.substack.com</a><br>
<a href="https://youtube.com/@bestia-dev-tutorials" rel="nofollow">//youtube.com/@bestia-dev-tutorials</a></p>
</article>
</body>

</html>